# Project Structure Documentation

This document provides a comprehensive overview of the Expense Tracker Flutter app's directory structure and file organization.

## Directory Tree

```
expense_tracker/
├── .git/                           # Git version control
├── .gitignore                      # Git ignore rules
├── .metadata                       # Flutter project metadata
├── analysis_options.yaml           # Dart analyzer configuration
├── CHANGELOG.md                    # Version history and changes
├── CONTRIBUTING.md                 # Contribution guidelines
├── LICENSE                         # MIT License
├── README.md                       # Project overview and setup
├── PROJECT_STRUCTURE.md           # This file
├── pubspec.yaml                    # Flutter dependencies and assets
│
├── assets/                         # Static assets directory
│   ├── README.md                   # Asset usage documentation
│   ├── fonts/                      # Font files (Poppins, Inter)
│   │   └── .gitkeep
│   ├── images/                     # App images and illustrations
│   │   └── .gitkeep
│   ├── icons/                      # Custom icon files
│   │   └── .gitkeep
│   └── animations/                 # Animation files (Lottie, etc.)
│       └── .gitkeep
│
├── lib/                            # Main source code directory
│   ├── main.dart                   # App entry point and initialization
│   ├── firebase_options.dart      # Firebase configuration
│   │
│   ├── config/                     # Configuration files
│   │   └── app_theme.dart         # Theme, colors, gradients, text styles
│   │
│   ├── models/                     # Data models
│   │   ├── expense_model.dart     # Expense entity and category enum
│   │   ├── expense_model.g.dart   # Generated Hive adapter
│   │   ├── user_model.dart        # User entity
│   │   ├── user_model.g.dart      # Generated Hive adapter
│   │   ├── badge_model.dart       # Badge/achievement entity
│   │   └── badge_model.g.dart     # Generated Hive adapter
│   │
│   ├── providers/                  # State management (Provider pattern)
│   │   ├── auth_provider.dart     # Authentication state & logic
│   │   ├── expense_provider.dart  # Expense CRUD & filtering logic
│   │   ├── badge_provider.dart    # Gamification & achievements logic
│   │   └── theme_provider.dart    # Theme switching logic
│   │
│   ├── services/                   # External services & utilities
│   │   └── database_service.dart  # Hive database operations
│   │
│   └── screens/                    # UI screens organized by feature
│       ├── auth/                   # Authentication screens
│       │   ├── splash_screen.dart # Initial loading screen
│       │   ├── login_screen.dart  # User login
│       │   └── signup_screen.dart # User registration
│       │
│       ├── home/                   # Main dashboard
│       │   └── home_screen.dart   # Home with bottom navigation
│       │
│       ├── expenses/               # Expense management screens
│       │   ├── add_expense_screen.dart  # Create/edit expense
│       │   └── expense_list_screen.dart # List with filtering
│       │
│       ├── insights/               # Analytics and charts
│       │   └── insights_screen.dart     # Charts and statistics
│       │
│       ├── gamification/           # Achievements and badges
│       │   └── badges_screen.dart       # Badge display
│       │
│       └── settings/               # App settings
│           └── settings_screen.dart     # User preferences
│
└── test/                           # Test files
    └── widget_test.dart            # Basic widget tests
```

## File Descriptions

### Root Level Files

- **pubspec.yaml**: Defines app metadata, dependencies, assets, and fonts
- **analysis_options.yaml**: Linter rules and analyzer configuration
- **.gitignore**: Specifies files to exclude from version control
- **.metadata**: Flutter project metadata for migrations
- **README.md**: Main project documentation
- **CHANGELOG.md**: Version history and release notes
- **CONTRIBUTING.md**: Guidelines for contributing
- **LICENSE**: MIT License details

### Source Code (`lib/`)

#### Core Files

- **main.dart**: 
  - App entry point
  - Initializes Firebase and Hive
  - Registers Hive adapters
  - Sets up MultiProvider for state management
  - Configures theme and routing

- **firebase_options.dart**:
  - Firebase configuration for different platforms
  - Auto-generated by FlutterFire CLI
  - Contains API keys and project IDs (placeholder)

#### Config (`lib/config/`)

- **app_theme.dart**:
  - Light and dark theme definitions
  - Color constants and palettes
  - Text styles (Poppins for headings, Inter for body)
  - AppGradients class with 5 gradient definitions
  - Material Design 3 theming

#### Models (`lib/models/`)

- **expense_model.dart**:
  - ExpenseModel class with Hive annotations
  - Fields: id, userId, amount, category, description, date, etc.
  - Support for recurring expenses and bill splitting
  - ExpenseCategory enum (8 categories)
  - JSON serialization methods

- **expense_model.g.dart**: Auto-generated Hive TypeAdapter

- **user_model.dart**:
  - UserModel class with Hive annotations
  - Fields: id, email, displayName, photoUrl, etc.
  - User preferences and settings
  - JSON serialization methods

- **user_model.g.dart**: Auto-generated Hive TypeAdapter

- **badge_model.dart**:
  - BadgeModel class with Hive annotations
  - Badge types: firstExpense, tenExpenses, weekStreak, etc.
  - Achievement tracking
  - JSON serialization methods

- **badge_model.g.dart**: Auto-generated Hive TypeAdapter

#### Providers (`lib/providers/`)

- **auth_provider.dart**:
  - Manages user authentication state
  - Email/password and Google Sign-In
  - User session management
  - Firebase Auth integration

- **expense_provider.dart**:
  - Expense CRUD operations
  - Filtering (category, date range, amount)
  - Search functionality
  - Statistics calculations

- **badge_provider.dart**:
  - Achievement unlock logic
  - Streak tracking
  - Badge notifications
  - Gamification rules

- **theme_provider.dart**:
  - Theme mode switching (light/dark)
  - Persists preference via SharedPreferences

#### Services (`lib/services/`)

- **database_service.dart**:
  - Centralized database operations
  - Hive box management
  - CRUD operations for expenses, users, badges
  - Query methods for filtering and aggregation

#### Screens (`lib/screens/`)

##### Auth Screens (`lib/screens/auth/`)

- **splash_screen.dart**: 
  - Initial loading screen with app logo
  - Checks authentication status
  - Routes to login or home

- **login_screen.dart**:
  - Email/password login
  - Google Sign-In button
  - Navigation to signup

- **signup_screen.dart**:
  - User registration form
  - Email validation
  - Password strength requirements

##### Home (`lib/screens/home/`)

- **home_screen.dart**:
  - Main dashboard with bottom navigation
  - 5 tabs: Dashboard, Expenses, Insights, Badges, Settings
  - Expense summary cards
  - Recent transactions
  - Quick actions (add expense, view insights)

##### Expense Screens (`lib/screens/expenses/`)

- **add_expense_screen.dart**:
  - Add/edit expense form
  - Category picker with emojis
  - Date and amount input
  - Recurring expense settings
  - Bill splitting options

- **expense_list_screen.dart**:
  - Scrollable expense list
  - Filter chips (category, date)
  - Search bar
  - Sort options
  - Swipe to delete

##### Insights (`lib/screens/insights/`)

- **insights_screen.dart**:
  - Monthly spending line chart (FL Chart)
  - Weekly spending bar chart
  - Category distribution pie chart
  - Top spending categories
  - Spending trends and insights

##### Gamification (`lib/screens/gamification/`)

- **badges_screen.dart**:
  - Grid of earned badges
  - Locked/unlocked badge display
  - Progress towards next badges
  - Badge descriptions

##### Settings (`lib/screens/settings/`)

- **settings_screen.dart**:
  - User profile management
  - Theme toggle (light/dark)
  - Notification preferences
  - Data export/backup
  - Logout option

### Tests (`test/`)

- **widget_test.dart**: Basic smoke tests for the app

## Key Dependencies

### State Management
- provider: ^6.0.0

### Database
- hive: ^2.2.3
- hive_flutter: ^1.1.0
- sqflite: ^2.2.8 (backup/alternative)

### Authentication
- firebase_core: ^2.24.0
- firebase_auth: ^4.10.0
- google_sign_in: ^6.2.0

### UI & Visualization
- fl_chart: ^0.65.0
- animate_do: ^3.1.2
- flutter_svg: ^2.0.7

### Utilities
- intl: ^0.19.0
- uuid: ^4.0.0
- shared_preferences: ^2.2.1

## Architecture Pattern

The app follows the **MVVM (Model-View-ViewModel)** pattern:

1. **Models**: Pure data classes with business logic
2. **Views**: UI components (Screens/Widgets)
3. **ViewModels**: Providers that manage state and business logic
4. **Services**: External integrations (Database, Auth)

## Data Flow

```
User Action → Screen Widget → Provider (ViewModel) → Service → Database
                                        ↓
                                 notifyListeners()
                                        ↓
                                 UI Updates (Consumer/Provider.of)
```

## Build Process

1. **Development**: `flutter run`
2. **Testing**: `flutter test`
3. **Code Generation**: `flutter pub run build_runner build`
4. **Production Build**: 
   - Android: `flutter build apk --release`
   - iOS: `flutter build ios --release`

## Next Steps for Deployment

1. Add actual font files to `assets/fonts/`
2. Configure Firebase for production (update firebase_options.dart)
3. Add platform-specific configurations (android/, ios/ directories)
4. Set up CI/CD pipeline
5. Add comprehensive unit and widget tests
6. Implement error tracking (Sentry, Crashlytics)
7. Add analytics tracking

---

**Last Updated**: December 12, 2024  
**Version**: 1.0.0
